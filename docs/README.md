

# Утилита для электронной подписи

Утилита командной строки для генерации цифровых подписей, проверки подписей и генерации пар ключей RSA.

## Возможности

- **Генерация пар ключей RSA**
- **Подпись файлов** с использованием приватного ключа
- **Проверка подписи файлов** с использованием публичного ключа

## Требования

- **Библиотека OpenSSL**
- **CMake** для сборки проекта

## Сборка проекта

   ```bash

   git clone digital_signature
   cd digital_signature
   mkdir build
   cd build

   # В случае ошибки CMake not able to find OpenSSL library установите libssl-dev
   cmake ..
   make

   ```


# **Использование**

**Генерация ключей:**

```shell
./digital_signature -g -k private_key.pem -p public_key.pem
```
- g: режим генерации ключей
- k: файл для приватного ключа
- p: файл для публичного ключа
- b: размер ключа в битах (опционально, по умолчанию 2048)

**Подпись файла:**


```shell
./digital_signature -s -i input.txt -o signature.bin -k private_key.pem
```
- s: режим подписи
- i: входной файл для подписи
- o: выходной файл для подписи
- k: файл приватного ключа

**Проверка подписи:**

```shell
./digital_signature -v -i input.txt -o signature.bin -k public_key.pem
```
- v: режим проверки
- i: входной файл для проверки
- o: файл с подписью
- k: файл публичного ключа
---

# **Тестирование программы**

## **Тест 1: Проверка обработки ошибок при поврежденном публичном ключе**

1. **Повредите публичный ключ:**
```shell
echo "Некорректные данные" > public_key.pem`
``` 
2. **Проверка подписи:**
    
```shell
./digital_signature -v -i input.txt -o signature.bin -k public_key.pem
```

**Ожидаемый результат:**

Программа должна вывести ошибку чтения публичного ключа и не продолжать проверку.

## **Тест 2: Проверка обработки ошибок при поврежденном приватном ключе**

1. **Повредите приватный ключ:**
    
```shell
echo "Некорректные данные" > private_key.pem
```
    
2. **Попытка подписать файл:**
    
```shell
./digital_signature -s -i input.txt -o signature.bin -k private_key.pem
```


**Ожидаемый результат:**

Программа должна вывести ошибку чтения приватного ключа и не продолжать подпись.

## **Тест 3: Проверка недействительности подписи при изменении файла**

1. **Подпишите исходный файл:**
    
```shell
./digital_signature -s -i testfile.txt -o signature.bin -k private_key.pem
```

2. **Измените файл после подписи:**
    
```shell
echo "Дополнительный текст" >> testfile.txt
```
    
3. **Проверьте подпись:**
```shell
./digital_signature -v -i testfile.txt -o signature.bin -k public_key.pem
```


**Ожидаемый результат:**

Программа должна сообщить, что подпись недействительна.


